generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model categories {
  id         Int         @id @default(autoincrement())
  painel_id  Int
  name       String
  color      String
  created_at DateTime?   @default(now()) @db.Timestamp(6)
  painels    panels      @relation(fields: [painel_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  movements  movements[]
}

model movements {
  id            Int         @id @default(autoincrement())
  painel_id     Int
  category_id   Int?
  name          String
  value         Decimal     @db.Decimal(10, 2)
  movement_type String
  date          DateTime    @default(dbgenerated("CURRENT_DATE")) @db.Date
  created_at    DateTime?   @default(now()) @db.Timestamp(6)
  categories    categories? @relation(fields: [category_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
  painels       panels      @relation(fields: [painel_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model panels {
  id            Int          @id @default(autoincrement())
  user_id       String?
  name          String
  initial_value Decimal      @default(0) @db.Decimal(10, 2)
  created_at    DateTime?    @default(now()) @db.Timestamp(6)
  categories    categories[]
  movements     movements[]
}
